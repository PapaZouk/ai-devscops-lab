name: Local Test Trigger
on: [push, workflow_dispatch]

jobs:
  test-security-fix:
    uses: ./.github/workflows/reusable-nodejs-security.yml
    with:
      vulnerability_description: |
        Vulnerability found in: vulnerable-api-app/src/api/authService.ts
        The authService.ts file uses a hardcoded JWT secret without algorithm enforcement. Fix it using the jwt-fix skill.
      llm_url: "http://host.docker.internal:1234/v1" 
      llm_model_name: "openai/gpt-oss-20b"
    secrets:
      LM_API_KEY: ${{ secrets.LM_API_KEY }}